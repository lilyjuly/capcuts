<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- Font Awesome CSS -->
    <title>ဒိုင်ယာရီ</title>
</head>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #f0f0f0;
    margin: 0;
    padding: 20px;
    display: flex; /* Enable flexbox for centering */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    height: 100vh; /* Full height for vertical centering */
}

.container {
    background-color: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    width: 400px; /* Set a width for the container */
}

h1 {
    text-align: center;
}

.background-selector {
    margin: 10px 0;
}

textarea {
    width: 100%;
    height: 100px;
    margin-top: 10px;
    resize: none; /* Prevent resizing of the textarea */
}

button {
    width: 100%;
    padding: 10px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

button:hover {
    background-color: #45a049;
}

.entry {
    border: 1px solid #ccc;
    margin: 10px 0;
    padding: 10px;
    border-radius: 5px;
    position: relative; /* For absolute positioning of edit/delete buttons */
}

.entry .timestamp {
    font-size: 0.8em;
    color: #888;
}

.edit-delete {
    display: flex;
    justify-content: space-between;
    position: absolute; /* Make it easy to position buttons */
    bottom: 10px;
    right: 10px;
}

.edit-delete button {
    background-color: #007BFF;
    border: none;
    color: white;
    cursor: pointer;
}

.edit-delete button:hover {
    background-color: #0056b3;
}
#password-container, #entries-container {
    background-color: rgba(0, 0, 0, 0.8); /* Black with transparency */
    color: white; /* Text color */
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    margin: 20px;
}

.hidden {
    display: none;
}

</style>
<body>
    <div class="container">
        <h1><i class="fas fa-book"></i> ဒိုင်ယာရီ</h1>
        <div class="background-selector">
            <label for="background">နောက်ခံအရောင်ရွေးချယ်ရန်:</label>
            <input type="color" id="background" value="#ffffff">
        </div>
        <textarea id="diaryEntry" placeholder="ရည်ညွှန်းမှုများရေးပါ..."></textarea>
        <button id="addEntry">အချိန်ထည့်ရန်</button>

        <div id="entries"></div>
    </div>
   

    <script src="script.js"></script>
</body>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const entriesDiv = document.getElementById('entries');
    const addEntryBtn = document.getElementById('addEntry');
    const diaryEntryInput = document.getElementById('diaryEntry');
    const backgroundInput = document.getElementById('background');

    // Load existing entries from localStorage
    loadEntries();

    addEntryBtn.addEventListener('click', () => {
        const entryText = diaryEntryInput.value.trim();
        if (entryText) {
            const date = new Date();
            const timestamp = date.toLocaleString();

            const entry = {
                text: entryText,
                date: timestamp,
            };

            // Save entry to localStorage
            saveEntry(entry);
            diaryEntryInput.value = ''; // Clear the input
        } else {
            alert("အချက်အလက်တွေကို ရေးသားပါ။");
        }
    });

    // Load entries from localStorage
    function loadEntries() {
        const entries = JSON.parse(localStorage.getItem('diaryEntries')) || [];
        entriesDiv.innerHTML = '';
        entries.forEach(entry => {
            const entryDiv = document.createElement('div');
            entryDiv.classList.add('entry');
            entryDiv.innerHTML = `
                <p>${entry.text}</p>
                <p class="timestamp">${entry.date}</p>
                <div class="edit-delete">
                    <button onclick="editEntry('${entry.text}', '${entry.date}')">Edit</button>
                    <button onclick="deleteEntry('${entry.date}')">Delete</button>
                </div>
            `;
            entriesDiv.appendChild(entryDiv);
        });
    }

    // Save entry to localStorage
    function saveEntry(entry) {
        const entries = JSON.parse(localStorage.getItem('diaryEntries')) || [];
        entries.push(entry);
        localStorage.setItem('diaryEntries', JSON.stringify(entries));
        loadEntries();
    }

    // Edit entry
    window.editEntry = (text, date) => {
        diaryEntryInput.value = text;
        deleteEntry(date); // Delete the entry after loading it for editing
    };

    // Delete entry
    window.deleteEntry = (date) => {
        const entries = JSON.parse(localStorage.getItem('diaryEntries')) || [];
        const updatedEntries = entries.filter(entry => entry.date !== date);
        localStorage.setItem('diaryEntries', JSON.stringify(updatedEntries));
        loadEntries();
    };

    // Change background color
    backgroundInput.addEventListener('input', (event) => {
        document.body.style.backgroundColor = event.target.value;
    });
});

// Load entries from local storage when the page loads
document.addEventListener('DOMContentLoaded', loadEntries);

function loadEntries() {
    const entriesDiv = document.getElementById('entries');
    const entries = JSON.parse(localStorage.getItem('diaryEntries')) || [];

    entries.forEach(entry => {
        const entryDiv = document.createElement('div');
        entryDiv.className = 'entry';
        entryDiv.innerHTML = `<strong>${entry.date} ${entry.time}</strong><p>${entry.text}</p>`;
        entriesDiv.appendChild(entryDiv);
    });
}

function saveEntry() {
    const dateInput = document.getElementById('date');
    const timeInput = document.getElementById('time');
    const textArea = document.querySelector('textarea');
    const entriesDiv = document.getElementById('entries');

    // Get current date and time
    const currentDate = new Date();
    dateInput.value = currentDate.toLocaleDateString('my-MM-dd'); // Format date
    timeInput.value = currentDate.toLocaleTimeString('my-MM', { hour: '2-digit', minute: '2-digit' }); // Format time

    // Create a new entry
    const newEntry = {
        date: dateInput.value,
        time: timeInput.value,
        text: textArea.value
    };

    // Save entry to local storage
    const existingEntries = JSON.parse(localStorage.getItem('diaryEntries')) || [];
    existingEntries.push(newEntry);
    localStorage.setItem('diaryEntries', JSON.stringify(existingEntries));

    // Append new entry to entries div
    const entryDiv = document.createElement('div');
    entryDiv.className = 'entry';
    entryDiv.innerHTML = `<strong>${dateInput.value} ${timeInput.value}</strong><p>${textArea.value}</p>`;
    entriesDiv.appendChild(entryDiv);
    
    // Clear the textarea
    textArea.value = '';
}
const correctPassword = '1234'; // Set your password here

document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('password-container').classList.remove('hidden');
});

function checkPassword() {
    const enteredPassword = document.getElementById('password').value;

    if (enteredPassword === correctPassword) {
        document.getElementById('password-container').classList.add('hidden');
        document.getElementById('entries-container').classList.remove('hidden');
        loadEntries(); // Load entries only if password is correct
    } else {
        alert('Incorrect password. Please try again.');
    }
}

function loadEntries() {
    const entriesDiv = document.getElementById('entries');
    const entries = JSON.parse(localStorage.getItem('diaryEntries')) || [];

    entries.forEach(entry => {
        const entryDiv = document.createElement('div');
        entryDiv.className = 'entry';
        entryDiv.innerHTML = `<strong>${entry.date} ${entry.time}</strong><p>${entry.text}</p>`;
        entriesDiv.appendChild(entryDiv);
    });
}


</script>
</html>
